<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>

        <form action="unit602JS.html" method="get">
            <input type="text" name="name" placeholder="姓名"><br>
            <input type="email" name="email" placeholder="電子郵件"><br>
            <input type="text" name="gender" placeholder="性別"><br>
            <input type="submit" value="SEND">
        </form>
        <div id="demo0"></div>
        <div id="demo1"></div>
        <div id="demo2"></div>

        <script>
            function decode(url){
                var p= url.indexOf("?");
                console.log(p)
                if (p!==-1){
                    var str = url.substring(p+1)
                    var arrStr= str.split("&");
                    console.log(str);
                    arrStr.forEach(e=>{
                        console.log(e   )
                    });
                    
                console.log("----------------------------------------------------")  
                for(var i=0;i<arrStr.length;i++){
                    var pair=arrStr[i].split("=");
                    var key = decodeURIComponent(pair[0]);
                    var value = decodeURIComponent(pair[1]);
                    console.log(i+":"+ key + "->" + value);
                    document.getElementById('demo' + i).innerHTML = value;
                }    
                
                }

            }

        var url =  window.location.href;
        console.log(url)
        decode(url);

    </script>

    </body>
</html>